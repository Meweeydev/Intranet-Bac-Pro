{"version":3,"file":"integration_github-popupSuccess.js","mappings":"mBAEA,MAAMA,ECIN,SAAmBC,EAAKC,EAAKC,GACzB,MAAMC,EAAOC,SAASC,cAAc,kBAAkBL,KAAOC,KAC7D,GAAa,OAATE,EAAe,CACf,QAAiBG,IAAbJ,EACA,OAAOA,EAEX,MAAM,IAAIK,MAAM,gCAAgCN,QAAUD,IAC9D,CACA,IACI,OAAOQ,KAAKC,MAAMC,KAAKP,EAAKQ,OAIhC,CAFA,MAAOC,GACH,MAAM,IAAIL,MAAM,iCAAiCN,QAAUD,IAC/D,CACJ,CDlBca,CAAU,qBAAsB,cACxCC,EAAWf,EAAMgB,UACjBC,EAAkBjB,EAAMkB,iBAE1BC,OAAOC,SACVD,OAAOC,OAAOC,YAAY,CAAEN,WAAUE,oBACtCE,OAAOG,Q","sources":["webpack:///integration_github/src/popupSuccess.js","webpack:///integration_github/node_modules/@nextcloud/initial-state/dist/index.esm.js"],"sourcesContent":["import { loadState } from '@nextcloud/initial-state'\n\nconst state = loadState('integration_github', 'popup-data')\nconst userName = state.user_name\nconst userDisplayName = state.user_displayname\n\nif (window.opener) {\n\twindow.opener.postMessage({ userName, userDisplayName })\n\twindow.close()\n}\n","/**\n * @param app app ID, e.g. \"mail\"\n * @param key name of the property\n * @param fallback optional parameter to use as default value\n * @throws if the key can't be found\n */\nfunction loadState(app, key, fallback) {\n    const elem = document.querySelector(`#initial-state-${app}-${key}`);\n    if (elem === null) {\n        if (fallback !== undefined) {\n            return fallback;\n        }\n        throw new Error(`Could not find initial state ${key} of ${app}`);\n    }\n    try {\n        return JSON.parse(atob(elem.value));\n    }\n    catch (e) {\n        throw new Error(`Could not parse initial state ${key} of ${app}`);\n    }\n}\n\nexport { loadState };\n//# sourceMappingURL=index.esm.js.map\n"],"names":["state","app","key","fallback","elem","document","querySelector","undefined","Error","JSON","parse","atob","value","e","loadState","userName","user_name","userDisplayName","user_displayname","window","opener","postMessage","close"],"sourceRoot":""}